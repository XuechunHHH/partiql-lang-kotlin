= PartiQL Plan

== About

This package contains an early implementation of the PartiQL Plan data structures. Specification work is ongoing, and
this package should be considered experimental.

== Testing

You can experiment with the current implementation via the shell.

[source,shell]
----
# Assemble distribution
./gradlew :partiql-cli:install

# Start
./partiql-cli/build/install/partiql-cli/bin/partiql --pipeline DEBUG

# Start with debug server
JAVA_OPTS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=localhost:5050 ./partiql-cli/build/install/partiql-cli/bin/partiql --pipeline DEBUG

# If `partiql` on path

partiql --pipeline DEBUG

JAVA_OPTS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=localhost:5050 partiql --pipeline DEBUG
----

== Usage

The data structures in `org.partiql.plan` can be used via the latest [partiql-lang-kotlin](https://central.sonatype.com/artifact/org.partiql/partiql-lang-kotlin/0.9.3) JAR and using the AstToRel translator (`org.partiql.lang.planner.transforms.AstToRel`).

For example,

[source,kotlin]
----
val parser = PartiQLParserBuilder.standard().build()
val ast = parser.parseAstStatement(input)
val plan = AstToPlan.transform(ast)

println(PlanPrinter.toString(plan))
----
